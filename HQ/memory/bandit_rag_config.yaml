# Bandit RAG Configuration
# Vertex AI Search integration for HQ memory retrieval

rag_config:
  provider: vertex_ai_search
  project_id: ${GCP_PROJECT_ID}
  location: global
  
  data_stores:
    - name: bandit_hq_memory
      id: ${VERTEX_AI_SEARCH_DATA_STORE_ID}
      description: "Bandit's core memory - Snow profile, self-model, and operational docs"
      indexed_paths:
        - HQ/memory/bandit_snow_profile_year1.yaml
        - HQ/memory/bandit_self_model_v1.md
        - HQ/memory/bandit_tools.py
        - HQ/memory/bandit_system_prompt.md

# Search configurations by use case
search_profiles:
  
  snow_context:
    description: "Retrieve Snow-specific knowledge for personalized responses"
    data_store: bandit_hq_memory
    boost_specs:
      - field: confidence
        boost_value: 1.5
        condition: "sure"
      - field: category
        boost_value: 1.2
        condition_in: ["identity", "nervous_system_and_trauma", "daily_life_and_capacity"]
    max_results: 10
    
  safety_check:
    description: "Check for escalation triggers and boundaries"
    data_store: bandit_hq_memory
    filter: "category = 'boundaries' OR category = 'ethics'"
    boost_specs:
      - field: section
        boost_value: 2.0
        condition_in: ["Tone, Ethics & Boundaries", "kink_and_intimacy"]
    max_results: 5
    
  task_context:
    description: "Retrieve task and workflow patterns"
    data_store: bandit_hq_memory
    filter: "category IN ('business_and_money', 'creativity_and_art', 'daily_life_and_capacity')"
    max_results: 8

# Retrieval triggers
auto_retrieve:
  # Always retrieve before these operations
  always:
    - nervous_system_check
    - check_escalation
    - calibrate_tone
    
  # Retrieve when keywords detected
  keyword_triggers:
    - keywords: ["money", "pricing", "offer", "revenue"]
      profile: snow_context
      filter: "category = 'business_and_money'"
      
    - keywords: ["overwhelmed", "dissociating", "anxious", "stressed"]
      profile: snow_context
      filter: "category = 'nervous_system_and_trauma'"
      
    - keywords: ["kink", "dynamic", "dom", "sub", "consent"]
      profile: safety_check
      filter: "category = 'kink_and_intimacy'"
      
    - keywords: ["identity", "name", "who I am", "Goddexx"]
      profile: snow_context
      filter: "category = 'identity'"

# Grounding configuration
grounding:
  enabled: true
  source_attribution: true
  confidence_threshold: 0.7
  max_chunks_per_source: 3
  
# Memory update triggers
memory_updates:
  trigger_phrases:
    - "forget that"
    - "that's not true anymore"
    - "this framing keeps missing me"
    - "actually, I..."
    - "correction:"
  
  update_process:
    1: "De-prioritize old assumption"
    2: "Flag as outdated in profile"
    3: "Ask one clarifying question if foundational"
    4: "Update immediately, maintain trust"

# Fade vs stick rules
persistence_rules:
  fade:
    - situational_stressors
    - temporary_logistics
    - momentary_moods
    - one_time_preferences
    
  stick:
    - core_values
    - boundaries
    - consent_preferences
    - nervous_system_patterns
    - long_term_projects
    - identity_shaping_info

# God-Level Knowledge Sources
# Curated from 500+ AI Projects Repository
god_level_sources:
  nlp:
    name: "NLP Knowledge Base"
    resources: 900
    key_repos:
      - "ashishpatel26/Treasure-of-Transformers"
      - "fighting41love/funNLP"
      - "keon/awesome-nlp"
    trigger_keywords:
      - "nlp"
      - "text analysis"
      - "sentiment"
      - "translate"
      - "summarize"
      - "ner"
      
  computer_vision:
    name: "CV Knowledge Base"
    resources: 1500
    key_repos:
      - "jbhuang0604/awesome-computer-vision"
      - "spmallick/learnopencv"
      - "ashishpatel26/365-Days-Computer-Vision-Learning-Linkedin-Post"
    trigger_keywords:
      - "image"
      - "vision"
      - "detect"
      - "recognize"
      - "ocr"
      
  deep_learning:
    name: "Deep Learning Knowledge Base"
    resources: 2500
    key_repos:
      - "aymericdamien/TopDeepLearning"
      - "kmario23/deep-learning-drizzle"
    trigger_keywords:
      - "neural"
      - "deep learning"
      - "train model"
      - "architecture"
      
  agents:
    name: "Agent Systems Knowledge Base"
    resources: 500
    key_repos:
      - "fendouai/Awesome-Chatbot"
      - "EthicalML/awesome-production-machine-learning"
    trigger_keywords:
      - "multi-agent"
      - "autonomous"
      - "orchestrate"
      
  research:
    name: "Research Knowledge Base"
    resources: 1000
    key_repos:
      - "RedditSota/state-of-the-art-result-for-machine-learning-problems"
      - "louisfb01/Best_AI_paper_2020"
    trigger_keywords:
      - "research"
      - "paper"
      - "sota"
      - "benchmark"

# Metadata
metadata:
  version: 2
  created: 2025-12-06
  updated: 2025-12-11
  god_level_enabled: true
  total_god_tier_resources: 6400
  companion_files:
    - bandit_snow_profile_year1.yaml
    - bandit_self_model_v1.md
    - bandit_tools.py
    - god_level_resources.md

